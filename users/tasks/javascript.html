

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Javascript Tasks &mdash; SOILE 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/my_theme.css?v=64f265d2" />
      <link rel="stylesheet" type="text/css" href="../../_static/soile_custom.css?v=23852827" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Task Properties" href="properties.html" />
    <link rel="prev" title="The experiment language within the SOILE Framework" href="elang.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            SOILE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Researcher’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../concepts.html">SOILE Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/index.html">Setting up a small project in SOILE</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tasks in the SOILE Framework</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="supported.html">Supported Formats</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="qlang.html">The questionnaire language within the SOILE Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="elang.html">The experiment language within the SOILE Framework</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Javascript Tasks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="properties.html">Task Properties</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SOILE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Researcher’s Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">Tasks in the SOILE Framework</a></li>
          <li class="breadcrumb-item"><a href="supported.html">Supported Formats</a></li>
      <li class="breadcrumb-item active">Javascript Tasks</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/users/tasks/javascript.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="javascript-tasks">
<h1>Javascript Tasks<a class="headerlink" href="#javascript-tasks" title="Link to this heading"></a></h1>
<p>You can run arbitrary javascript code in your experiments. In essence, you provide a html page,
which the system will render in an iframe.
The data generated by your task needs to be separated into different categories:
- Result data, i.e. the data that you want to include in your results.
- Larger files that need to be added to the result, but will be stored separately.
- Persistent data that is can be made available to other tasks as well
- Output data that can be used by e.g. filters or other processes within a study</p>
<section id="soile-functionality-offered-to-the-task">
<h2>SOILE functionality offered to the task<a class="headerlink" href="#soile-functionality-offered-to-the-task" title="Link to this heading"></a></h2>
<p>SOILE will add the following functions and variables to the window the task is running in:</p>
<ul class="simple">
<li><dl class="simple">
<dt>window.persistentData<span class="classifier">This is a JSON object that contains all persistent data elements the user has processed until now.</span></dt><dd><p>If your task makes use of this type of data or requires it, ensure that
this is well documented in code and READMEs, as variables names in persistent
data are not namespaced, and can thus be overwritten by any other task
that uses the same variable names.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>window.setPersistent(key<span class="classifier">str, value</span><span class="classifier">Any)</span><span class="classifier">With this function, you can set persistent data.</span></dt><dd><p>While the value is of type any it needs to be a value that is convertible into
a JSON object.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>window.submitFile(fileName<span class="classifier">str, fileFormat</span><span class="classifier">str, file</span><span class="classifier">File)</span><span class="classifier">This function adds a file to the</span></dt><dd><p>Results of the task. It starts an upload of the file and the submission process
will not finish while there are still files being uploaded.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>window.reportResult( currentData<span class="classifier">dict): This function will add the data in currentData to the results data of</span></dt><dd><p>the task.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>window.submitResults()<span class="classifier">This function initiates the task submission. It should only ever be called once,</span></dt><dd><p>so please ensure, that you do not allow repeated pressing of a submission button.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>window.handleError(error)<span class="classifier">This function allows propagation of error messages to the SOILE system,</span></dt><dd><p>which will then be displayed;</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>window.setOutput(key :str, value<span class="classifier">number)</span><span class="classifier">Set a output (value useable in SOILE study parts like filters). Outputs</span></dt><dd><p>MUST be numbers, and non numbers will result in errors.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="how-to-access-persistent-data">
<h2>How to access Persistent Data<a class="headerlink" href="#how-to-access-persistent-data" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="elang.html" class="btn btn-neutral float-left" title="The experiment language within the SOILE Framework" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="properties.html" class="btn btn-neutral float-right" title="Task Properties" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Thomas Pfau, Daniel Warna.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>